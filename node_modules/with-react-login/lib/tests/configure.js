'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.configureFetchCurrentUserWithLoginSuccess = exports.configureFetchCurrentUserWithLoginFail = exports.configureTestStore = undefined;

var _fetchNormalizeData = require('fetch-normalize-data');

var _redux = require('redux');

var _reduxThunk = require('redux-thunk');

var _reduxThunk2 = _interopRequireDefault(_reduxThunk);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var configureTestStore = exports.configureTestStore = function configureTestStore() {

  var storeEnhancer = (0, _redux.applyMiddleware)(_reduxThunk2.default.withExtraArgument({ rootUrl: 'http://foo.com' }));

  var rootReducer = (0, _redux.combineReducers)({
    data: (0, _fetchNormalizeData.createDataReducer)()
  });

  return (0, _redux.createStore)(rootReducer, storeEnhancer);
};

var configureFetchCurrentUserWithLoginFail = exports.configureFetchCurrentUserWithLoginFail = function configureFetchCurrentUserWithLoginFail() {
  fetch.mockResponse(JSON.stringify([{ global: ['Nobody is authenticated here'] }]), { status: 400 });
};

var configureFetchCurrentUserWithLoginSuccess = exports.configureFetchCurrentUserWithLoginSuccess = function configureFetchCurrentUserWithLoginSuccess() {
  fetch.mockResponse(JSON.stringify({ email: 'michel.marx@youpi.fr' }), { status: 200 });
};